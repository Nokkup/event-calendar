{"version":3,"sources":["store/reducers/action-types.js","store/reducers/auth/index.js","store/reducers/event/index.js","store/reducers/index.js","store/index.js","firebase/index.js","store/reducers/auth/action-creators.js","store/reducers/event/action-creators.js","components/EventsCalendar.jsx","components/EventForm.jsx","pages/Event.jsx","components/LoginForm.jsx","pages/Login.jsx","components/RegistrationForm.jsx","pages/Registration.jsx","components/AppRouter.jsx","components/Header.jsx","App.js","index.js"],"names":["SET_AUTH","SET_IS_LOADING","SET_USER","SET_EVENTS","ADD_EVENT","initialState","isAuth","isLoading","user","events","reducers","auth","state","action","type","payload","event","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","getAuth","database","getDatabase","dbRef","ref","AuthActionCreators","setUser","setIsAuth","setIsLoading","login","email","password","dispatch","a","signInWithEmailAndPassword","then","userCredential","uid","catch","error","message","logout","signOut","registration","createUserWithEmailAndPassword","EventActionCreators","setEvents","addEvent","uploadEvents","newEvent","emailHash","MD5","toString","set","console","getEvents","get","child","snapshot","exists","val","EventsList","styled","ul","EventCalendar","useState","modalVisible","setModalVisible","selectedEvents","setSelectedEvents","fullscreen","style","width","dateCellRender","value","formatedDate","format","currentDayEvents","filter","el","date","isPastEvents","isSameOrBefore","moment","map","i","className","description","onSelect","currentEvents","length","title","visible","footer","onCancel","EventForm","submit","setEvent","onFinish","labelCol","span","Item","label","name","rules","required","TextArea","rows","onChange","e","target","getFieldValue","validator","_","isSameOrAfter","Promise","resolve","reject","Error","justify","htmlType","Event","useDispatch","useSelector","useEffect","locale","success","position","bottom","right","placement","size","shape","onClick","icon","PlusOutlined","LoginForm","setEmail","setPassword","formRef","createRef","placeholder","Password","loading","to","current","setFieldsValue","fillForm","StyledLoginWrapper","div","Login","RegistrationForm","StyledRegistrationWrapper","Registration","AppRouter","path","exact","component","UserName","Header","router","useHistory","UserOutlined","theme","mode","selectable","push","App","onAuthStateChanged","Content","Footer","textAlign","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ccc40a3c.chunk.js","sourcesContent":["export const SET_AUTH = \"SET_AUTH\";\r\nexport const SET_IS_LOADING = \"SET_IS_LOADING\";\r\nexport const SET_ERROR = \"SET_ERROR\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const SET_EVENTS = \"SET_EVENTS\";\r\nexport const ADD_EVENT = \"ADD_EVENT\";","import { SET_AUTH, SET_IS_LOADING, SET_USER } from \"../action-types\";\r\n\r\nconst initialState = {\r\n    isAuth: false,\r\n    isLoading: false,\r\n    user: {},\r\n}\r\n\r\nexport default function authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_AUTH:\r\n            return { ...state, isAuth: action.payload, isLoading: false };\r\n        case SET_USER:\r\n            return { ...state, user: action.payload };\r\n        case SET_IS_LOADING:\r\n            return { ...state, isLoading: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { ADD_EVENT, SET_EVENTS } from \"../action-types\";\r\n\r\nconst initialState = {\r\n    events: []\r\n}\r\n\r\nexport default function eventReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_EVENTS:\r\n            return { ...state, events: action.payload };\r\n        case ADD_EVENT: {\r\n            return { ...state, events: [...state.events, action.payload] }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","import auth from \"./auth\";\r\nimport event from \"./event\";\r\n\r\nconst reducers = {\r\n    auth,\r\n    event\r\n};\r\n\r\nexport default reducers;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducers from \"./reducers\"\r\n\r\nconst rootReducer = combineReducers(reducers);\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getDatabase, ref } from \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const database = getDatabase(app);\r\nexport const dbRef = ref(database);","import { SET_AUTH, SET_IS_LOADING, SET_USER } from \"../action-types\";\r\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"../../../firebase\";\r\nimport { message } from \"antd\";\r\n\r\nexport const AuthActionCreators = {\r\n    setUser: (user) => {\r\n        return { type: SET_USER, payload: user }\r\n    },\r\n    setIsAuth: (auth) => {\r\n        return { type: SET_AUTH, payload: auth }\r\n    },\r\n    setIsLoading: (isLoading) => {\r\n        return { type: SET_IS_LOADING, payload: isLoading }\r\n    },\r\n\r\n    login: (email, password) => async (dispatch) => {\r\n        dispatch(AuthActionCreators.setIsLoading(true));\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                const user = userCredential.user;\r\n                dispatch(AuthActionCreators.setUser({ email: user.email, uid: user.uid }));\r\n                dispatch(AuthActionCreators.setIsAuth(true));\r\n                dispatch(AuthActionCreators.setIsLoading(false));\r\n            })\r\n            .catch((error) => {\r\n                message.error(\"Неправильный логин или пароль\");\r\n            });\r\n    },\r\n\r\n    logout: () => async (dispatch) => {\r\n        auth.signOut();\r\n        dispatch(AuthActionCreators.setUser({}));\r\n        dispatch(AuthActionCreators.setIsAuth(false));\r\n    },\r\n\r\n    registration: (email, password) => async (dispatch) => {\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                dispatch(AuthActionCreators.login(email, password));\r\n            })\r\n            .catch((error) => {\r\n                message.error(error.message);\r\n            });\r\n    }\r\n}","import { SET_EVENTS, ADD_EVENT } from \"../action-types\";\r\nimport { dbRef, database } from \"../../../firebase\";\r\nimport { ref, set, get, child } from \"firebase/database\";\r\nimport { MD5 } from \"crypto-js\";\r\n\r\n\r\nexport const EventActionCreators = {\r\n    setEvents: (events) => {\r\n        return { type: SET_EVENTS, payload: events }\r\n    },\r\n    addEvent: (event) => {\r\n        return { type: ADD_EVENT, payload: event }\r\n    },\r\n\r\n    uploadEvents: (user, events, newEvent) => async dispatch => {\r\n        try {\r\n            const emailHash = MD5(user.email).toString();\r\n\r\n            set(ref(database, emailHash), {\r\n                events: [...events, newEvent]\r\n            });\r\n            dispatch(EventActionCreators.addEvent(newEvent));\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    },\r\n\r\n    getEvents: (user) => async dispatch => {\r\n        try {\r\n            let events = [];\r\n            const emailHash = MD5(user.email).toString();\r\n\r\n            await get(child(dbRef, emailHash)).then((snapshot) => {\r\n                if (snapshot.exists()) {\r\n                    events = snapshot.val().events;\r\n                }\r\n            }).catch((error) => {\r\n                console.error(error);\r\n            });\r\n\r\n            dispatch(EventActionCreators.setEvents(events));\r\n\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n}","import React, { useState } from 'react';\r\nimport { Calendar, Modal } from \"antd\";\r\nimport moment from 'moment';\r\nimport styled from 'styled-components';\r\n\r\nconst EventsList = styled.ul`\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: inside;\r\n    list-style-type: circle;\r\n\r\n    li {\r\n        width: 100%;\r\n        overflow: hidden;\r\n        font-size: 14px;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n    }\r\n\r\n    .past-date {\r\n        color: lightblue;\r\n    }\r\n\r\n    .future-date {\r\n        color: blue;\r\n    }\r\n`;\r\n\r\n\r\nconst EventCalendar = ({ events }) => {\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [selectedEvents, setSelectedEvents] = useState([]);\r\n\r\n    function dateCellRender(value) {\r\n        const formatedDate = value.format('YYYY-MM-DD');\r\n        const currentDayEvents = events.filter(el => el.date === formatedDate);\r\n        const isPastEvents = value.isSameOrBefore(moment());\r\n        return (\r\n            <EventsList>\r\n                {currentDayEvents.map((el, i) =>\r\n                    <li className={isPastEvents ? \"past-date\" : \"future-date\"} key={i}>\r\n                        {el.description}\r\n                    </li>\r\n                )}\r\n            </EventsList>\r\n        );\r\n    }\r\n\r\n    const selectDate = value => {\r\n        const formatedDate = value.format('YYYY-MM-DD');\r\n        const currentEvents = events.filter(el => el.date === formatedDate);\r\n        if (currentEvents.length > 0) {\r\n            setModalVisible(true);\r\n            setSelectedEvents(currentEvents);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Calendar\r\n                fullscreen={true}\r\n                style={{ width: \"800px\" }}\r\n                dateCellRender={dateCellRender}\r\n                onSelect={selectDate}\r\n            />\r\n            <Modal\r\n                title=\"Список событий\"\r\n                visible={modalVisible}\r\n                footer={null}\r\n                onCancel={() => setModalVisible(false)}\r\n            >\r\n                <ul>\r\n                    {selectedEvents.map((el, i) =>\r\n                        <li key={i}>{el.description}</li>\r\n                    )}\r\n                </ul>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default EventCalendar;\r\n","import React, { useState } from 'react';\r\nimport { DatePicker, Form, Input, Button, Row } from \"antd\";\r\nimport moment from 'moment';\r\n\r\nconst EventForm = ({ submit }) => {\r\n\r\n    const [event, setEvent] = useState({\r\n        date: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    return (\r\n        <Form onFinish={() => submit(event)} labelCol={{ span: 6 }}>\r\n            <Form.Item\r\n                label=\"Описание:\"\r\n                name=\"decription\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: \"Добавьте описание события\"\r\n                    }\r\n                ]}\r\n            >\r\n                <Input.TextArea\r\n                    rows={5}\r\n                    value={event.description}\r\n                    onChange={(e => setEvent({ ...event, description: e.target.value }))}\r\n                />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                label=\"Дата:\"\r\n                name=\"date\"\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                        message: \"Выберите дату\"\r\n                    },\r\n                    ({ getFieldValue }) => ({\r\n                        validator(_, value) {\r\n                            if (value.isSameOrAfter(moment())) {\r\n                                return Promise.resolve();\r\n                            }\r\n                            return Promise.reject(new Error(\"Выбранная дата уже прошла\"));\r\n                        },\r\n                    }),\r\n                ]}\r\n            >\r\n                <DatePicker onChange={date => setEvent({ ...event, date: date.format('YYYY-MM-DD') })} />\r\n            </Form.Item>\r\n\r\n            <Row justify=\"end\">\r\n                <Form.Item>\r\n                    <Button type=\"primary\" htmlType=\"submit\">Создать</Button>\r\n                </Form.Item>\r\n            </Row>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default EventForm;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Layout, Row, Button, Modal, message, Affix, Tooltip, ConfigProvider } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { EventActionCreators } from \"../store/reducers/event/action-creators\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport EventCalendar from '../components/EventsCalendar';\r\nimport EventForm from '../components/EventForm';\r\nimport 'moment/locale/ru';\r\nimport locale from 'antd/lib/locale/ru_RU';\r\n\r\n\r\nconst Event = () => {\r\n    const dispatch = useDispatch();\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const { events } = useSelector(state => state.event);\r\n    const { user } = useSelector(state => state.auth);\r\n\r\n    useEffect(() => {\r\n        dispatch(EventActionCreators.getEvents(user));\r\n    }, [])\r\n\r\n    const submitForm = newEvent => {\r\n        setModalVisible(false);\r\n        dispatch(EventActionCreators.uploadEvents(user, events, newEvent));\r\n        message.success(\"Событие добавлено\");\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Layout>\r\n                <ConfigProvider locale={locale}>\r\n                    <Row justify=\"center\" >\r\n                        <EventCalendar events={events} />\r\n                    </Row>\r\n                    <Modal\r\n                        title=\"Добавить новое событие\"\r\n                        visible={modalVisible}\r\n                        footer={null}\r\n                        onCancel={() => setModalVisible(false)}\r\n                    >\r\n                        <EventForm submit={submitForm} />\r\n                    </Modal>\r\n                </ConfigProvider>\r\n            </Layout>\r\n            <Affix style={{ position: 'fixed', bottom: 20, right: 20 }} >\r\n                <Tooltip placement=\"left\" title=\"Добавить новое событие\">\r\n                    <Button\r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        shape=\"circle\"\r\n                        onClick={() => setModalVisible(true)}\r\n                        icon={<PlusOutlined />}\r\n                    >\r\n                    </Button>\r\n                </Tooltip>\r\n            </Affix>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Event;\r\n","import React, { createRef, useState } from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Form, Input, Button, Tooltip } from \"antd\";\r\nimport { AuthActionCreators } from \"../store/reducers/auth/action-creators\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst LoginForm = () => {\r\n\r\n    const { isLoading } = useSelector(state => state.auth);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const formRef = createRef();\r\n    const dispatch = useDispatch();\r\n\r\n    const submitForm = () => {\r\n        dispatch(AuthActionCreators.login(email, password));\r\n    }\r\n\r\n    const fillForm = () => {\r\n        const [email, password] = [\"test@test.test\", \"testpass\"];\r\n        formRef.current.setFieldsValue({\r\n            email,\r\n            password,\r\n        });\r\n        setEmail(email);\r\n        setPassword(password);\r\n    }\r\n\r\n    return (\r\n        <Form name=\"login\" ref={formRef} onFinish={submitForm} >\r\n\r\n            <Form.Item name=\"email\" rules={[{ required: true, message: \"Введите email\" }]} >\r\n                <Input value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Email\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"password\" rules={[{ required: true, message: \"Введите пароль\" }]} >\r\n                <Input.Password value={password} placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" loading={isLoading} style={{ width: \"100%\" }}>Login</Button>\r\n                <span>Or </span>\r\n                <Link to=\"/registration\">register</Link>\r\n            </Form.Item>\r\n\r\n            <Tooltip title=\"тестовый пользователь\">\r\n                <Button type=\"dashed\" htmlType=\"button\" onClick={() => fillForm()}>test user</Button>\r\n            </Tooltip>\r\n\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default LoginForm;\r\n","import React from 'react';\r\nimport { Layout, Card } from 'antd';\r\nimport LoginForm from '../components/LoginForm';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledLoginWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: calc(100vh - 128px);\r\n`;\r\n\r\nconst Login = () => {\r\n    return (\r\n        <Layout>\r\n            <StyledLoginWrapper>\r\n                <Card>\r\n                    <LoginForm />\r\n                </Card>\r\n            </StyledLoginWrapper>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { AuthActionCreators } from \"../store/reducers/auth/action-creators\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst RegistrationForm = () => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n    const submitForm = () => {\r\n        dispatch(AuthActionCreators.registration(email, password))\r\n    }\r\n\r\n    return (\r\n        <Form name=\"registration\" onFinish={submitForm} >\r\n\r\n            <Form.Item name=\"email\" rules={[{ required: true, message: \"Введите email\" }]} >\r\n                <Input value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Email\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item name=\"password\" rules={[{ required: true, message: \"Введите пароль\" }]} >\r\n                <Input.Password value={password} placeholder=\"Password\" onChange={e => setPassword(e.target.value)} />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n                <Button type=\"primary\" htmlType=\"submit\" style={{ width: \"100%\" }}>Registration</Button>\r\n                <span>Or </span>\r\n                <Link to=\"/login\">login</Link>\r\n            </Form.Item>\r\n\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport default RegistrationForm;\r\n","import React from 'react';\r\nimport { Layout, Card } from 'antd';\r\nimport RegistrationForm from '../components/RegistrationForm';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledRegistrationWrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: calc(100vh - 128px);\r\n`;\r\n\r\nconst Registration = () => {\r\n    return (\r\n        <Layout>\r\n            <StyledRegistrationWrapper>\r\n                <Card>\r\n                    <RegistrationForm />\r\n                </Card>\r\n            </StyledRegistrationWrapper>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default Registration;\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport Event from \"../pages/Event\";\r\nimport Login from \"../pages/Login\";\r\nimport Registration from '../pages/Registration';\r\n\r\nconst AppRouter = () => {\r\n    const { isAuth } = useSelector(state => state.auth);\r\n\r\n    return (\r\n        isAuth\r\n            ?\r\n            <Switch>\r\n                <Route\r\n                    path={\"/calendar\"}\r\n                    exact={true}\r\n                    component={Event}\r\n                />\r\n                <Redirect to={\"/calendar\"} />\r\n            </Switch>\r\n            :\r\n            <Switch>\r\n                <Route\r\n                    path={\"/registration\"}\r\n                    exact={true}\r\n                    component={Registration}\r\n                />\r\n                <Route\r\n                    path={\"/login\"}\r\n                    exact={true}\r\n                    component={Login}\r\n                />\r\n                <Redirect to={\"/login\"} />\r\n            </Switch>\r\n    )\r\n}\r\n\r\nexport default AppRouter;","import React from 'react'\r\nimport { Layout, Row, Menu, Space, Avatar } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { AuthActionCreators } from '../store/reducers/auth/action-creators';\r\nimport styled from 'styled-components';\r\n\r\nconst UserName = styled.div`\r\n    color: white;\r\n    max-width: 160px;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n`;\r\n\r\nconst Header = () => {\r\n    const router = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { isAuth, user } = useSelector(state => state.auth);\r\n\r\n    return (\r\n        <Layout.Header>\r\n            <Row justify=\"end\">\r\n                {\r\n                    isAuth\r\n                        ?\r\n                        <Space>\r\n                            <Avatar icon={<UserOutlined />} />\r\n                            <UserName>{user.email}</UserName>\r\n                            <Menu theme=\"dark\" mode=\"horizontal\" selectable={false}>\r\n                                <Menu.Item key={1} onClick={() => dispatch(AuthActionCreators.logout())}>\r\n                                    Logout\r\n                                </Menu.Item>\r\n                            </Menu>\r\n                        </Space>\r\n                        :\r\n                        <Menu theme=\"dark\" mode=\"horizontal\" selectable={false}>\r\n                            <Menu.Item key={2} onClick={() => router.push(\"/login\")}>\r\n                                Login\r\n                            </Menu.Item>\r\n                        </Menu>\r\n                }\r\n            </Row>\r\n        </Layout.Header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import { Layout } from 'antd';\nimport { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { AuthActionCreators } from \"./store/reducers/auth/action-creators\";\nimport AppRouter from \"./components/AppRouter\";\nimport Header from \"./components/Header\";\n\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"./firebase\";\n\nconst App = () => {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tonAuthStateChanged(auth, (user) => {\n\t\t\tif (user) {\n\t\t\t\tdispatch(AuthActionCreators.setUser({ email: user.email, uid: user.uid }));\n\t\t\t\tdispatch(AuthActionCreators.setIsAuth(true));\n\t\t\t}\n\t\t})\n\t}, [])\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Header />\n\t\t\t<Layout.Content>\n\t\t\t\t<AppRouter />\n\t\t\t</Layout.Content>\n\t\t\t<Layout.Footer style={{ textAlign: 'center' }}>\n\t\t\t\t<span> ©2021 </span>\n\t\t\t\t<a href=\"https://github.com/Nokkup/event-calendar\">Github link</a>\n\t\t\t</Layout.Footer>\n\t\t</Layout>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { store } from './store';\nimport App from './App';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}